{"ast":null,"code":"import _slicedToArray from \"/home/mayada/WebstormProjects/music/music-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/mayada/WebstormProjects/music/music-front/src/components/music-table/music-table.js\";\nimport React, { useEffect, useState } from 'react';\nimport './music-table.css';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport * as config from '../../configs/development';\nimport axios from 'axios';\n\nfunction MusicTable({\n  tableData,\n  songsUpdateHandler\n}) {\n  const isAuthorized = !!localStorage.getItem('auth-token');\n\n  const _useState = useState(tableData),\n        _useState2 = _slicedToArray(_useState, 2),\n        songs = _useState2[0],\n        setSongs = _useState2[1];\n\n  useEffect(() => {\n    setSongs(tableData);\n  }, [tableData]);\n\n  const removeItem = index => {\n    axios.delete(config.api.baseUrl + `table/song/` + songs[index]._id).then(res => {\n      const resultSongs = [...songs];\n      resultSongs.splice(index, 1);\n      setSongs(resultSongs);\n      songsUpdateHandler(resultSongs);\n    }).catch(error => console.log(error));\n  };\n\n  return React.createElement(Paper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(Table, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(TableHead, {\n    className: \"tableHead\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Title\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Artist\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Album\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Genre\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }))), React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, songs.map((song, index) => React.createElement(TableRow, {\n    key: index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, song.title), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, song.artist), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, song.album), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, song.genre), React.createElement(TableCell, {\n    style: isAuthorized ? {} : {\n      display: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(DeleteIcon, {\n    className: \"removeIcon\",\n    onClick: () => removeItem(index),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(Chip, {\n    label: \"delete me\",\n    deleteIcon: React.createElement(IconSVG, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }),\n    onDelete: this.deleteMethod,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })))))));\n}\n\nexport default MusicTable;","map":{"version":3,"sources":["/home/mayada/WebstormProjects/music/music-front/src/components/music-table/music-table.js"],"names":["React","useEffect","useState","Table","TableBody","TableCell","TableHead","TableRow","Paper","DeleteIcon","config","axios","MusicTable","tableData","songsUpdateHandler","isAuthorized","localStorage","getItem","songs","setSongs","removeItem","index","delete","api","baseUrl","_id","then","res","resultSongs","splice","catch","error","console","log","map","song","title","artist","album","genre","display","deleteMethod"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport './music-table.css';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport * as config from '../../configs/development';\nimport axios from 'axios';\n\nfunction MusicTable({tableData, songsUpdateHandler}) {\n\n    const isAuthorized = !!localStorage.getItem('auth-token');\n\n    const [songs, setSongs] = useState(tableData);\n\n    useEffect(() => {\n        setSongs(tableData);\n    }, [tableData]);\n\n    const removeItem = (index) => {\n        axios.delete(config.api.baseUrl + `table/song/` + songs[index]._id)\n            .then(res => {\n                const resultSongs = [...songs];\n                resultSongs.splice(index, 1);\n                setSongs(resultSongs);\n                songsUpdateHandler(resultSongs)\n            })\n            .catch(error => console.log(error));\n    };\n\n    return (\n        <Paper>\n            <Table>\n                <TableHead className=\"tableHead\">\n                    <TableRow>\n                        <TableCell>Title</TableCell>\n                        <TableCell>Artist</TableCell>\n                        <TableCell>Album</TableCell>\n                        <TableCell>Genre</TableCell>\n                        <TableCell></TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {songs.map((song, index) => (\n                        <TableRow key={index}>\n                            <TableCell>{song.title}</TableCell>\n                            <TableCell>{song.artist}</TableCell>\n                            <TableCell>{song.album}</TableCell>\n                            <TableCell>{song.genre}</TableCell>\n                            <TableCell style={isAuthorized ? {} : {display: 'none'}}>\n                                <DeleteIcon className=\"removeIcon\" onClick={() => removeItem(index)}/>\n                                <Chip\n                                    label=\"delete me\"\n                                    deleteIcon={<IconSVG />}\n                                    onDelete={this.deleteMethod}\n                                />\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Paper>\n    )\n}\n\nexport default MusicTable;\n"]},"metadata":{},"sourceType":"module"}