{"ast":null,"code":"import _slicedToArray from \"/home/mayada/WebstormProjects/music/music-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/mayada/WebstormProjects/music/music-front/src/components/login/login.js\";\nimport React, { useState } from \"react\";\nimport './login.css';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios';\nimport * as config from '../../configs/development';\nimport { useHistory } from \"react-router-dom\";\n\nfunction Login() {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        login = _useState2[0],\n        setLogin = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setPassword = _useState4[1];\n\n  let history = useHistory();\n\n  const handleLoginChange = e => {\n    setLogin(e.target.value);\n  };\n\n  const handlePasswordChange = e => {\n    setPassword(e.target.value);\n  };\n\n  const logIn = () => {\n    axios.post(config.api.baseUrl + 'admin/login', {\n      login: login,\n      password: password\n    }).then(res => {\n      axios.defaults.headers.common['Authorization'] = res.data;\n      localStorage.setItem('auth-token', res.data);\n      history.push('/');\n    }).catch(err => console.log(err));\n  };\n\n  return React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    id: \"login\",\n    label: \"Login\",\n    variant: \"outlined\",\n    size: \"small\",\n    value: login,\n    onChange: handleLoginChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"password\",\n    label: \"Password\",\n    variant: \"outlined\",\n    size: \"small\",\n    value: password,\n    onChange: handlePasswordChange,\n    type: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }), React.createElement(Button, {\n    className: \"formButton\",\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: logIn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Log In\"));\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/mayada/WebstormProjects/music/music-front/src/components/login/login.js"],"names":["React","useState","TextField","Button","axios","config","useHistory","Login","login","setLogin","password","setPassword","history","handleLoginChange","e","target","value","handlePasswordChange","logIn","post","api","baseUrl","then","res","defaults","headers","common","data","localStorage","setItem","push","catch","err","console","log"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAO,aAAP;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,MAAZ,MAAwB,2BAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAGA,SAASC,KAAT,GAAiB;AAAA,oBAEaN,QAAQ,CAAC,EAAD,CAFrB;AAAA;AAAA,QAENO,KAFM;AAAA,QAECC,QAFD;;AAAA,qBAGmBR,QAAQ,CAAC,EAAD,CAH3B;AAAA;AAAA,QAGNS,QAHM;AAAA,QAGIC,WAHJ;;AAIb,MAAIC,OAAO,GAAGN,UAAU,EAAxB;;AAEA,QAAMO,iBAAiB,GAAIC,CAAD,IAAO;AAC7BL,IAAAA,QAAQ,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR;AACH,GAFD;;AAIA,QAAMC,oBAAoB,GAAIH,CAAD,IAAO;AAChCH,IAAAA,WAAW,CAACG,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AACH,GAFD;;AAIA,QAAME,KAAK,GAAG,MAAM;AAChBd,IAAAA,KAAK,CAACe,IAAN,CAAWd,MAAM,CAACe,GAAP,CAAWC,OAAX,GAAqB,aAAhC,EAA+C;AAAEb,MAAAA,KAAK,EAAEA,KAAT;AAAgBE,MAAAA,QAAQ,EAAEA;AAA1B,KAA/C,EACKY,IADL,CACUC,GAAG,IAAI;AACTnB,MAAAA,KAAK,CAACoB,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDH,GAAG,CAACI,IAArD;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCN,GAAG,CAACI,IAAvC;AACAf,MAAAA,OAAO,CAACkB,IAAR,CAAa,GAAb;AACH,KALL,EAMKC,KANL,CAMWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CANlB;AAOH,GARD;;AAUA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AAAW,IAAA,EAAE,EAAC,OAAd;AAAsB,IAAA,KAAK,EAAC,OAA5B;AAAoC,IAAA,OAAO,EAAC,UAA5C;AAAuD,IAAA,IAAI,EAAC,OAA5D;AAAoE,IAAA,KAAK,EAAExB,KAA3E;AACW,IAAA,QAAQ,EAAEK,iBADrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAGI,oBAAC,SAAD;AAAW,IAAA,EAAE,EAAC,UAAd;AAAyB,IAAA,KAAK,EAAC,UAA/B;AAA0C,IAAA,OAAO,EAAC,UAAlD;AAA6D,IAAA,IAAI,EAAC,OAAlE;AAA0E,IAAA,KAAK,EAAEH,QAAjF;AACW,IAAA,QAAQ,EAAEO,oBADrB;AAC2C,IAAA,IAAI,EAAC,UADhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,EAKI,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,YAAlB;AAA+B,IAAA,OAAO,EAAC,WAAvC;AAAmD,IAAA,KAAK,EAAC,SAAzD;AAAmE,IAAA,OAAO,EAAEC,KAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,CADJ;AAWH;;AAED,eAAeX,KAAf","sourcesContent":["import React, {useState} from \"react\";\nimport './login.css';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios';\nimport * as config from '../../configs/development';\nimport { useHistory } from \"react-router-dom\";\n\n\nfunction Login() {\n\n    const [login, setLogin] = useState('');\n    const [password, setPassword] = useState('');\n    let history = useHistory();\n\n    const handleLoginChange = (e) => {\n        setLogin(e.target.value);\n    };\n\n    const handlePasswordChange = (e) => {\n        setPassword(e.target.value);\n    };\n\n    const logIn = () => {\n        axios.post(config.api.baseUrl + 'admin/login', { login: login, password: password })\n            .then(res => {\n                axios.defaults.headers.common['Authorization'] = res.data;\n                localStorage.setItem('auth-token', res.data);\n                history.push('/');\n            })\n            .catch(err => console.log(err));\n    };\n\n    return (\n        <form>\n            <TextField id=\"login\" label=\"Login\" variant=\"outlined\" size=\"small\" value={login}\n                       onChange={handleLoginChange}/>\n            <TextField id=\"password\" label=\"Password\" variant=\"outlined\" size=\"small\" value={password}\n                       onChange={handlePasswordChange} type=\"password\"/>\n            <Button className=\"formButton\" variant=\"contained\" color=\"primary\" onClick={logIn}>\n                Log In\n            </Button>\n        </form>\n    )\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}